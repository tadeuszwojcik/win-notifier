<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Win-notify by tadeuszwojcik</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork">
            <iframe src="http://ghbtns.com/github-btn.html?user=tadeuszwojcik&repo=win-notify&type=watch&count=true&size=medium"
                    allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20" style="vertical-align: middle"></iframe>
          </li>
          <li class="fork">
            <iframe src="http://ghbtns.com/github-btn.html?user=tadeuszwojcik&repo=win-notify&type=follow&count=true&size=medium"
                    allowtransparency="true" frameborder="0" scrolling="0" width="190" height="20" style="vertical-align: middle"></iframe>
          </li>

          <li class="downloads"><a href="https://github.com/tadeuszwojcik/win-notify">View On GitHub</a></li>

        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Win-notify</h1>
          <p>Simple notifications API for JavaScript Windows Store apps</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/tadeuszwojcik">tadeuszwojcik</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="win-notify" class="anchor" href="#win-notify"><span class="octicon octicon-link"></span></a>win-notify</h1>

<p>Simple notifications API for JavaScript Windows Store apps.</p>

<p>Compatible with <strong>Windows 8</strong> and <strong>8.1</strong> APIs.</p>

<h2>
<a name="why" class="anchor" href="#why"><span class="octicon octicon-link"></span></a>Why?</h2>

<p><strong>Short version</strong>: because native WinRT notifications
API (<a href="http://msdn.microsoft.com/library/windows/apps/br208661">Windows.UI.Notifications</a>) 
isn't JavaScript friendly(to put it mildly - <a href="#using-native-winrt-notifications-api">see example below</a>).</p>

<p><strong>Longer version</strong>: Everyone who builds Windows Store apps knows that live tiles and toasts notifications 
are great way to engage users.
WinRT API provides way to utilize those features, unfortunately it requires messing with 
XML (yeah XML - <a href="#using-native-winrt-notifications-api">see example below</a>) and work with API which is more designed for C#/C++ devs.
I was a bit frustrated by the current state of affairs, so written this lib.
It's not too abstracted from native WinRT API, 
but provides <strong>much simpler way of working with notifications from Javascript</strong> (at least I hope so).</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>npm install win-notify
</pre></div>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>bower install win-notify
</pre></div>

<p>or simply copy file win-notify.js file to your project.</p>

<h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<h3>
<a name="tile-notifications" class="anchor" href="#tile-notifications"><span class="octicon octicon-link"></span></a>Tile notifications</h3>

<p><img src="https://f.cloud.github.com/assets/1707138/1368882/13e71dee-39c6-11e3-943e-78af855fab64.jpg" alt="tile notifications"></p>

<p>Let's say we want to update tile with text and image when it's displayed on start screen as 
wide tile and text only when it's displayed as medium tile:</p>

<p align="center">
<img src="https://f.cloud.github.com/assets/1707138/1392451/4f901d72-3c0b-11e3-9c7a-6825eb33055c.PNG">  Â 
<img src="https://f.cloud.github.com/assets/1707138/1369086/bbfe889c-39d4-11e3-9c42-ef99011ec09f.png"></p>

<h5>
<a name="using-win-notify" class="anchor" href="#using-win-notify"><span class="octicon octicon-link"></span></a>using <code>win-notify</code>:</h5>

<div class="highlight highlight-js"><pre><span class="nx">winNotify</span><span class="p">.</span><span class="nx">viaTileUpdate</span><span class="p">({</span>
    <span class="nx">tileWide310x150SmallImageAndText04</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">image1</span><span class="o">:</span> <span class="s1">'http://uifaces.com/faces/_twitter/cacestgang_73.jpg'</span><span class="p">,</span>
      <span class="nx">text1</span><span class="o">:</span> <span class="s1">'Hello'</span><span class="p">,</span>
      <span class="nx">text2</span><span class="o">:</span> <span class="s1">'World'</span>
    <span class="p">},</span>
    <span class="nx">tileSquareText02</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">text1</span><span class="o">:</span> <span class="s1">'Hello'</span><span class="p">,</span>
      <span class="nx">text2</span><span class="o">:</span> <span class="s1">'World'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">);</span>
</pre></div>

<h5>
<a name="using-native-winrt-notifications-api" class="anchor" href="#using-native-winrt-notifications-api"><span class="octicon octicon-link"></span></a>using native WinRT notifications API:</h5>

<div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">Notifications</span> <span class="o">=</span> <span class="nx">Windows</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">Notifications</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Imaging</span> <span class="o">=</span> <span class="nx">Windows</span><span class="p">.</span><span class="nx">Graphics</span><span class="p">.</span><span class="nx">Imaging</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">tileXml</span> <span class="o">=</span> <span class="nx">Notifications</span><span class="p">.</span><span class="nx">TileUpdateManager</span><span class="p">.</span><span class="nx">getTemplateContent</span><span class="p">(</span>
  <span class="nx">Notifications</span><span class="p">.</span><span class="nx">TileTemplateType</span><span class="p">.</span><span class="nx">tileWide310x150SmallImageAndText04</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">tileTextAttributes</span> <span class="o">=</span> <span class="nx">tileXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"text"</span><span class="p">);</span>
<span class="nx">tileTextAttributes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tileXml</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">));</span>
<span class="nx">tileTextAttributes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tileXml</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">"World"</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">tileImageAttributes</span> <span class="o">=</span> <span class="nx">tileXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"image"</span><span class="p">);</span>
<span class="nx">tileImageAttributes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span> <span class="s2">"http://uifaces.com/faces/_twitter/cacestgang_73.jpg"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">squareTileXml</span> <span class="o">=</span> <span class="nx">Notifications</span><span class="p">.</span><span class="nx">TileUpdateManager</span><span class="p">.</span><span class="nx">getTemplateContent</span><span class="p">(</span>
  <span class="nx">Notifications</span><span class="p">.</span><span class="nx">TileTemplateType</span><span class="p">.</span><span class="nx">tileSquareText02</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">squareTileTextAttributes</span> <span class="o">=</span> <span class="nx">squareTileXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"text"</span><span class="p">);</span>
<span class="nx">squareTileTextAttributes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">squareTileXml</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">));</span>
<span class="nx">squareTileTextAttributes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">squareTileXml</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">"World"</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">tileXml</span><span class="p">.</span><span class="nx">importNode</span><span class="p">(</span><span class="nx">squareTileXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"binding"</span><span class="p">).</span><span class="nx">item</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">tileXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"visual"</span><span class="p">).</span><span class="nx">item</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">tileNotification</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Notifications</span><span class="p">.</span><span class="nx">TileNotification</span><span class="p">(</span><span class="nx">tileXml</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">tileUpdater</span> <span class="o">=</span> <span class="nx">Windows</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">Notifications</span><span class="p">.</span><span class="nx">TileUpdateManager</span><span class="p">.</span><span class="nx">createTileUpdaterForApplication</span><span class="p">();</span>
<span class="nx">tileUpdater</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">tileNotification</span><span class="p">);</span>
</pre></div>

<p>Hope you see now which API is <strong>simpler</strong> and why it's worth using <code>win-notify</code> in your project.
<a href="https://github.com/tadeuszwojcik/win-notify#tile-updates">Check out API section</a> to learn more about details.</p>

<h3>
<a name="toast-notifications" class="anchor" href="#toast-notifications"><span class="octicon octicon-link"></span></a>Toast notifications</h3>

<p><img src="https://f.cloud.github.com/assets/1707138/1368910/530fa5ca-39c8-11e3-85a3-f75e6f3e80f8.PNG" alt="toast notifications"></p>

<p>Let's say we want to show toast notification with text and image:</p>

<p align="center">
<img src="https://f.cloud.github.com/assets/1707138/1392452/4fba40ca-3c0b-11e3-8f9f-68147b45b475.PNG"></p>

<h5>
<a name="using-win-notify-1" class="anchor" href="#using-win-notify-1"><span class="octicon octicon-link"></span></a>using <code>win-notify</code>:</h5>

<div class="highlight highlight-js"><pre><span class="nx">winNotify</span><span class="p">.</span><span class="nx">viaToast</span><span class="p">({</span>
  <span class="nx">toastImageAndText02</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">text1</span><span class="o">:</span> <span class="s1">'Hello'</span><span class="p">,</span>
    <span class="nx">text2</span><span class="o">:</span> <span class="s1">'World'</span><span class="p">,</span>
    <span class="nx">image1</span><span class="o">:</span> <span class="s1">'http://uifaces.com/faces/_twitter/cacestgang_73.jpg'</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="using-native-winrt-notifications-api-1" class="anchor" href="#using-native-winrt-notifications-api-1"><span class="octicon octicon-link"></span></a>using native WinRT notifications API:</h5>

<div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">notifications</span> <span class="o">=</span> <span class="nx">Windows</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">Notifications</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">template</span> <span class="o">=</span> <span class="nx">notifications</span><span class="p">.</span><span class="nx">ToastTemplateType</span><span class="p">.</span><span class="nx">toastImageAndText02</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">toastXml</span> <span class="o">=</span> <span class="nx">notifications</span><span class="p">.</span><span class="nx">ToastNotificationManager</span><span class="p">.</span><span class="nx">getTemplateContent</span><span class="p">(</span><span class="nx">template</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">toastTextElements</span> <span class="o">=</span> <span class="nx">toastXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"text"</span><span class="p">);</span>
<span class="nx">toastTextElements</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">"Hello"</span><span class="p">;</span>
<span class="nx">toastTextElements</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">"World"</span><span class="p">;</span> 

<span class="kd">var</span> <span class="nx">toastImageElements</span> <span class="o">=</span> <span class="nx">toastXml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"image"</span><span class="p">);</span>
<span class="nx">toastImageElements</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span> <span class="s2">"http://uifaces.com/faces/_twitter/cacestgang_73.jpg"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">toast</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">notifications</span><span class="p">.</span><span class="nx">ToastNotification</span><span class="p">(</span><span class="nx">toastXml</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">toastNotifier</span> <span class="o">=</span> <span class="nx">notifications</span><span class="p">.</span><span class="nx">ToastNotificationManager</span><span class="p">.</span><span class="nx">createToastNotifier</span><span class="p">();</span>
<span class="nx">toastNotifier</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">toast</span><span class="p">);</span>
</pre></div>

<p>Again, <code>win-notify</code> is much <strong>simpler</strong> to use than native WinRT notifications API.
<a href="https://github.com/tadeuszwojcik/win-notify#toasts-notifications">Check out API section</a> to learn more about details.</p>

<h2>
<a name="api-documentation-on-github" class="anchor" href="#api-documentation-on-github"><span class="octicon octicon-link"></span></a><a href="https://github.com/tadeuszwojcik/win-notify#api">API Documentation on GitHub</a>
</h2>

<h2>
<a name="credits" class="anchor" href="#credits"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Thanks Kraig Brockschmidt for images (hope he don't mind) and presentation <a href="http://channel9.msdn.com/Events/Build/2013/3-159">Alive with Activity</a> explaining notifications concepts in clear way and Microsoft for MSDN docs.</p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p><a href="LICENSE.txt">WTFPL</a></p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-17985289-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>